# ðŸ“ DIFF_SUMMARY.md - Analysis Pack v2.1 Changes

> **ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** ÙŠÙ†Ø§ÙŠØ± 2026  
> **Ø§Ù„ØºØ±Ø¶:** ØªÙˆØ«ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙØªÙˆØ­Ø©

---

## ðŸ“‹ Source of Truth Table

### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© (v2.1)

| # | Ø§Ù„Ù…Ù„Ù | Ø§Ù„Ø¥ØµØ¯Ø§Ø± | Ø§Ù„ØºØ±Ø¶ | Ø§Ù„Ø­Ø§Ù„Ø© |
|---|-------|---------|-------|--------|
| 00 | `00-GLOSSARY.md` | 1.0 | Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª | âœ… Active |
| 01 | `01-SYSTEM-OVERVIEW.md` | 2.1 | Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© + Extension Runner | âœ… Active |
| 02 | `02-DATA-MODEL.md` | 2.1 | Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª SQL + Security Appendix | âœ… Active |
| 03 | `03-SCREENS-ANALYSIS.md` | 2.1 | 23 Ø´Ø§Ø´Ø© (17 Ù…ÙˆØ¬ÙˆØ¯Ø© + 6 Ù…Ø®Ø·Ø·Ø©) | âœ… Active |
| 04 | `04-USER-FLOWS.md` | 2.1 | 14 ØªØ¯ÙÙ‚ (8 Ø£Ø³Ø§Ø³ÙŠØ© + 6 SaaS) | âœ… Active |
| 05 | `05-COMPONENTS-REFERENCE.md` | 1.0 | Ù…Ø±Ø¬Ø¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª | âœ… Active |
| 06 | `06-API-REQUIREMENTS.md` | 2.1 | Ù…ØªØ·Ù„Ø¨Ø§Øª API + SaaS + Runner | âœ… Active |
| 07 | `07-DEVELOPMENT-ROADMAP.md` | 2.1 | Ø®Ø§Ø±Ø·Ø© Ø·Ø±ÙŠÙ‚ + DoD | âœ… Active |
| 08 | `08-CONFLICTS_AND_GAPS.md` | 1.0 | ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ¶Ø§Ø±Ø¨Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠ | âœ… Active (Archive) |
| 09 | `09-SAAS_MULTITENANCY.md` | 2.0 | ØªØµÙ…ÙŠÙ… Multi-tenancy | âœ… Active |
| 10 | `10-SECURITY_THREAT_MODEL.md` | 2.0 | Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‡Ø¯ÙŠØ¯Ø§Øª | âœ… Active |
| 11 | `11-EXTENSION_RUNNER_SPEC.md` | 2.1 | Ù…ÙˆØ§ØµÙØ§Øª Runner | âœ… Active |
| 12 | `12-UI_VENDORIZING_PLAN.md` | 2.0 | Ø®Ø·Ø© Ù†Ù‚Ù„ UI | âœ… Active |
| 13 | `13-EXTENSION_API_MAPPING.md` | 2.0 | Ø¬Ø¯ÙˆÙ„ Mapping | âœ… Active |
| 14 | `14-CONFLICTS_AND_FIXES.md` | 2.1 | ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ¶Ø§Ø±Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø« | âœ… Active |
| 15 | `15-MULTITENANCY_RBAC_MATRIX.md` | 2.1 | Ù…ØµÙÙˆÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª | âœ… Active |
| 16 | `16-SUBSCRIPTION_QUOTAS_FLAGS.md` | 2.1 | Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ø­Ø¯ÙˆØ¯ | âœ… Active |
| 17 | `17-EXECUTIVE-SUMMARY.md` | 2.0 | Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ | âœ… Active (Renamed) |
| - | `openapi.yaml` | 2.1 | OpenAPI Spec | âœ… Active |
| - | `README.md` | 2.1 | ÙÙ‡Ø±Ø³ + Checklist | âœ… Active |

### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙÙ„ØºØ§Ø© (Deprecated)

| Ø§Ù„Ù…Ù„Ù | Ø§Ù„Ø³Ø¨Ø¨ | Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ |
|-------|-------|---------|
| `02-DATA-MODEL-V2.md` | Ù†Ø³Ø®Ø© Ù‚Ø¯ÙŠÙ…Ø© (v2.0)ØŒ ØªÙ… Ø¯Ù…Ø¬Ù‡Ø§ ÙÙŠ `02-DATA-MODEL.md` | âš ï¸ ÙŠÙØ­Ø°Ù Ø£Ùˆ ÙŠÙØ¹Ø§Ø¯ ØªØ³Ù…ÙŠØªÙ‡ |
| `07-DEVELOPMENT-ROADMAP-V2.md` | Ù†Ø³Ø®Ø© Ù‚Ø¯ÙŠÙ…Ø© (v2.0)ØŒ ØªÙ… Ø¯Ù…Ø¬Ù‡Ø§ ÙÙŠ `07-DEVELOPMENT-ROADMAP.md` | âš ï¸ ÙŠÙØ­Ø°Ù Ø£Ùˆ ÙŠÙØ¹Ø§Ø¯ ØªØ³Ù…ÙŠØªÙ‡ |
| `11-EXECUTIVE-SUMMARY.md` | ØªØ¹Ø§Ø±Ø¶ ØªØ±Ù‚ÙŠÙ… Ù…Ø¹ Extension Runner | âš ï¸ ÙŠÙØ¹Ø§Ø¯ ØªØ±Ù‚ÙŠÙ…Ù‡ Ø¥Ù„Ù‰ 17 |

---

## ðŸ”„ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ v2.1

### 1. ØªØºÙŠÙŠØ±Ø§Øª Ù‡ÙŠÙƒÙ„ÙŠØ©

| Ø§Ù„ØªØºÙŠÙŠØ± | Ø§Ù„Ù…Ù„Ù | Ø§Ù„ØªÙØ§ØµÙŠÙ„ |
|---------|-------|----------|
| Ø¥Ø¹Ø§Ø¯Ø© ØªØ±Ù‚ÙŠÙ… | `11-EXECUTIVE-SUMMARY.md` â†’ `17-EXECUTIVE-SUMMARY.md` | Ø­Ù„ ØªØ¹Ø§Ø±Ø¶ Ø§Ù„ØªØ±Ù‚ÙŠÙ… |
| Ø­Ø°Ù Ù…ÙƒØ±Ø±Ø§Øª | `02-DATA-MODEL-V2.md`, `07-DEVELOPMENT-ROADMAP-V2.md` | Ø¯Ù…Ø¬ ÙÙŠ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© |
| Ø¥Ø¶Ø§ÙØ© Security Appendix | `02-DATA-MODEL.md` | CORS, RBAC, Rate Limiting, PII Redaction |

### 2. ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­ØªÙˆÙ‰

| Ø§Ù„Ù…Ù„Ù | Ø§Ù„ØªØºÙŠÙŠØ± | Ø§Ù„Ø³Ø¨Ø¨ |
|-------|---------|-------|
| `03-SCREENS-ANALYSIS.md` | ØªØ­Ø¯ÙŠØ« 6 Ø´Ø§Ø´Ø§Øª SaaS Ù…Ø¹ DoD ÙƒØ§Ù…Ù„ | Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØªÙˆØ«ÙŠÙ‚ |
| `04-USER-FLOWS.md` | Ø¥Ø¶Ø§ÙØ© ØªØ¯ÙÙ‚ "Usage Limit Reached" | Ù…ØªØ·Ù„Ø¨ SaaS |
| `README.md` | Ø¥Ø¶Ø§ÙØ© Final Consistency Checklist | Ø¶Ù…Ø§Ù† Ø§Ù„Ø§ØªØ³Ø§Ù‚ |
| `02-DATA-MODEL.md` | Ø¥Ø¶Ø§ÙØ© Security Appendix Ø´Ø§Ù…Ù„ | Ù…ØªØ·Ù„Ø¨ Ø£Ù…Ù†ÙŠ |

### 3. ØªØºÙŠÙŠØ±Ø§Øª API

| Endpoint | Ø§Ù„Ø­Ø§Ù„Ø© | Ø§Ù„Ù…Ù„Ù |
|----------|--------|-------|
| `POST /api/auth/signup` | Ù…ÙˆØ«Ù‚ | openapi.yaml |
| `POST /api/auth/switch-tenant` | Ù…ÙˆØ«Ù‚ | openapi.yaml |
| `GET /api/billing/usage` | Ù…ÙˆØ«Ù‚ | openapi.yaml |
| `POST /api/invites` | Ù…ÙˆØ«Ù‚ | openapi.yaml |
| Agent WebSocket | ÙŠØ­ØªØ§Ø¬ ØªÙØµÙŠÙ„ | 11-EXTENSION_RUNNER_SPEC.md |

---

## â“ Ø£Ø³Ø¦Ù„Ø© Ù…ÙØªÙˆØ­Ø© ÙˆÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ­Ù‚Ù‚

### 1. Agent WebSocket Protocol

**Ø§Ù„Ø³Ø¤Ø§Ù„:** Ù‡Ù„ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ WebSocket Ù„Ù„Ù€ Agent Ù…ÙˆØ«Ù‚ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŸ

**ÙƒÙŠÙ Ù†ØªØ­Ù‚Ù‚:**
```bash
# ÙØ­Øµ openapi.yaml
grep -n "websocket\|ws://" docs/openapi.yaml

# ÙØ­Øµ Extension Runner Spec
grep -n "WebSocket\|WS\|wss://" docs/11-EXTENSION_RUNNER_SPEC.md
```

**Ø§Ù„Ø­Ø§Ù„Ø©:** âš ï¸ ÙŠØ­ØªØ§Ø¬ ØªÙØµÙŠÙ„ Ø£ÙƒØ«Ø± (Message types, reconnection, heartbeat)

### 2. Offline Queue Implementation

**Ø§Ù„Ø³Ø¤Ø§Ù„:** Ù‡Ù„ IndexedDB schema Ù„Ù„Ù€ Offline Queue Ù…ÙˆØ«Ù‚ØŸ

**ÙƒÙŠÙ Ù†ØªØ­Ù‚Ù‚:**
```bash
grep -n "IndexedDB\|offline\|queue" docs/11-EXTENSION_RUNNER_SPEC.md
```

**Ø§Ù„Ø­Ø§Ù„Ø©:** âš ï¸ Ù…Ø°ÙƒÙˆØ± ÙƒÙ…ÙÙ‡ÙˆÙ…ØŒ ÙŠØ­ØªØ§Ø¬ schema ØªÙØµÙŠÙ„ÙŠ

### 3. Feature Flags List

**Ø§Ù„Ø³Ø¤Ø§Ù„:** Ù…Ø§ Ù‡ÙŠ Ù‚Ø§Ø¦Ù…Ø© Feature Flags Ø§Ù„ÙƒØ§Ù…Ù„Ø©ØŸ

**ÙƒÙŠÙ Ù†ØªØ­Ù‚Ù‚:**
```bash
grep -n "feature_flag\|FeatureFlag" docs/16-SUBSCRIPTION_QUOTAS_FLAGS.md
```

**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ù…ÙˆØ«Ù‚ ÙÙŠ 16-SUBSCRIPTION_QUOTAS_FLAGS.md

### 4. Audit Events Coverage

**Ø§Ù„Ø³Ø¤Ø§Ù„:** Ù‡Ù„ ÙƒÙ„ UI action Ù„Ù‡ audit event Ù…ÙˆØ«Ù‚ØŸ

**ÙƒÙŠÙ Ù†ØªØ­Ù‚Ù‚:**
```bash
# Ù…Ù‚Ø§Ø±Ù†Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
grep -c "Audit:" docs/03-SCREENS-ANALYSIS.md
grep -c "audit_event\|AuditEvent" docs/13-EXTENSION_API_MAPPING.md
```

**Ø§Ù„Ø­Ø§Ù„Ø©:** âš ï¸ ÙŠØ­ØªØ§Ø¬ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø´Ø§Ù…Ù„Ø©

---

## ðŸ“Š Matrix: UI Action â†’ API â†’ Permission â†’ Audit â†’ JobType

### Ø¬Ø¯ÙˆÙ„ Ø´Ø§Ù…Ù„ (Ù…Ù„Ø®Øµ)

| UI Action | Screen | API Endpoint | Permission | Audit Event | JobType |
|-----------|--------|--------------|------------|-------------|---------|
| ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ | Login | `POST /api/auth/login` | - | `AUTH_LOGIN` | - |
| ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ | Signup | `POST /api/auth/signup` | - | `AUTH_SIGNUP` | - |
| ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© | Header | `POST /api/auth/switch-tenant` | - | `AUTH_TENANT_SWITCH` | - |
| Ø¨Ø­Ø« Ø¹Ù…Ù„Ø§Ø¡ | Search | `POST /api/search` | `leads:create` | `SEARCH_STARTED` | `SEARCH` |
| Ø­ÙØ¸ Ø¹Ù…ÙŠÙ„ | Search | `POST /api/leads` | `leads:create` | `LEAD_CREATED` | - |
| Ø­ÙØ¸ Ù…ØªØ¹Ø¯Ø¯ | Search | `POST /api/leads/bulk` | `leads:create` | `LEADS_BULK_CREATED` | - |
| ÙØ­Øµ Ø¹Ù…ÙŠÙ„ | Lead | `POST /api/leads/:id/survey` | `leads:update` | `SURVEY_STARTED` | `SURVEY` |
| Ø¥Ø±Ø³Ø§Ù„ ÙˆØ§ØªØ³Ø§Ø¨ | Lead | `POST /api/whatsapp/send` | `whatsapp:send` | `WHATSAPP_SENT` | `WHATSAPP_SEND` |
| ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© | Lead | `PATCH /api/leads/:id` | `leads:update` | `LEAD_UPDATED` | - |
| Ø­Ø°Ù Ø¹Ù…ÙŠÙ„ | Lead | `DELETE /api/leads/:id` | `leads:delete` | `LEAD_DELETED` | - |
| Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© | Lists | `POST /api/lists` | `lists:create` | `LIST_CREATED` | - |
| Ø¯Ø¹ÙˆØ© Ø¹Ø¶Ùˆ | Team | `POST /api/invites` | `team:invite` | `INVITE_SENT` | - |
| ØªØºÙŠÙŠØ± Ø¯ÙˆØ± | Team | `PATCH /api/memberships/:id` | `team:change_role` | `ROLE_CHANGED` | - |
| ØªØ±Ù‚ÙŠØ© Ø§Ù„Ø¨Ø§Ù‚Ø© | Billing | `POST /api/billing/checkout` | `billing:manage` | `SUBSCRIPTION_UPGRADED` | - |
| Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­ API | Settings | `POST /api/api-keys` | `api_keys:manage` | `API_KEY_CREATED` | - |

### JobTypes Ø§Ù„ÙƒØ§Ù…Ù„Ø©

| JobType | Ø§Ù„ÙˆØµÙ | Connector | Audit Events |
|---------|-------|-----------|--------------|
| `SEARCH` | Ø¨Ø­Ø« Google Maps | `google_maps` | `JOB_CREATED`, `JOB_COMPLETED` |
| `SURVEY` | ÙØ­Øµ Ø´Ø§Ù…Ù„ Ù„Ù„Ø¹Ù…ÙŠÙ„ | `web_search`, `website_crawl`, `social_public` | `JOB_CREATED`, `JOB_COMPLETED` |
| `WHATSAPP_SEND` | Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨ | - | `JOB_CREATED`, `JOB_COMPLETED` |
| `WHATSAPP_BULK` | Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ Ø¬Ù…Ø§Ø¹ÙŠØ© | - | `JOB_CREATED`, `JOB_COMPLETED` |
| `IMPORT` | Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¹Ù…Ù„Ø§Ø¡ | - | `JOB_CREATED`, `JOB_COMPLETED` |
| `EXPORT` | ØªØµØ¯ÙŠØ± Ø¹Ù…Ù„Ø§Ø¡ | - | `JOB_CREATED`, `JOB_COMPLETED` |
| `REPORT_GENERATE` | ØªÙˆÙ„ÙŠØ¯ ØªÙ‚Ø±ÙŠØ± AI | - | `JOB_CREATED`, `JOB_COMPLETED` |
| `BULK_STATUS_UPDATE` | ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø§Øª Ø¬Ù…Ø§Ø¹ÙŠ | - | `JOB_CREATED`, `JOB_COMPLETED` |
| `BULK_DELETE` | Ø­Ø°Ù Ø¬Ù…Ø§Ø¹ÙŠ | - | `JOB_CREATED`, `JOB_COMPLETED` |

---

## ðŸ“Š Complete UI â†’ API â†’ Permission â†’ Audit â†’ Job Matrix

### Auth & SaaS Actions

| # | UI Action | Screen | API Endpoint | Permission | Audit Event | JobType |
|---|-----------|--------|--------------|------------|-------------|---------|
| 1 | ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ | Signup | `POST /api/auth/signup` | - | `AUTH_SIGNUP` | - |
| 2 | ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ | Login | `POST /api/auth/login` | - | `AUTH_LOGIN` | - |
| 3 | ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ | Header | `POST /api/auth/logout` | - | `AUTH_LOGOUT` | - |
| 4 | ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© | Header | `POST /api/auth/switch-tenant` | - | `AUTH_TENANT_SWITCH` | - |
| 5 | ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± | Security | `POST /api/auth/change-password` | - | `PASSWORD_CHANGED` | - |
| 6 | Ø¯Ø¹ÙˆØ© Ø¹Ø¶Ùˆ | Team | `POST /api/invites` | `team:invite` | `INVITE_SENT` | - |
| 7 | Ù‚Ø¨ÙˆÙ„ Ø¯Ø¹ÙˆØ© | Accept Invite | `POST /api/invites/:token/accept` | - | `INVITE_ACCEPTED` | - |
| 8 | ØªØºÙŠÙŠØ± Ø¯ÙˆØ± | Team | `PATCH /api/memberships/:id` | `team:change_role` | `ROLE_CHANGED` | - |
| 9 | Ø¥Ø²Ø§Ù„Ø© Ø¹Ø¶Ùˆ | Team | `DELETE /api/memberships/:id` | `team:remove` | `MEMBER_REMOVED` | - |

### Lead Actions

| # | UI Action | Screen | API Endpoint | Permission | Audit Event | JobType |
|---|-----------|--------|--------------|------------|-------------|---------|
| 10 | Ø¨Ø­Ø« Ø¹Ù…Ù„Ø§Ø¡ | Search | `POST /api/search` | `leads:create` | `SEARCH_STARTED` | `SEARCH` |
| 11 | Ø­ÙØ¸ Ø¹Ù…ÙŠÙ„ | Search | `POST /api/leads` | `leads:create` | `LEAD_CREATED` | - |
| 12 | Ø­ÙØ¸ Ù…ØªØ¹Ø¯Ø¯ | Search | `POST /api/leads/bulk` | `leads:create` | `LEADS_BULK_CREATED` | - |
| 13 | Ø¹Ø±Ø¶ Ø¹Ù…ÙŠÙ„ | Lead Detail | `GET /api/leads/:id` | `leads:read` | - | - |
| 14 | ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù…ÙŠÙ„ | Lead Detail | `PATCH /api/leads/:id` | `leads:update` | `LEAD_UPDATED` | - |
| 15 | Ø­Ø°Ù Ø¹Ù…ÙŠÙ„ | Lead Detail | `DELETE /api/leads/:id` | `leads:delete` | `LEAD_DELETED` | - |
| 16 | ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© | Lead Detail | `PATCH /api/leads/:id` | `leads:update` | `LEAD_STATUS_CHANGED` | - |
| 17 | ÙØ­Øµ Ø¹Ù…ÙŠÙ„ | Lead Detail | `POST /api/leads/:id/survey` | `leads:update` | `SURVEY_STARTED` | `SURVEY` |
| 18 | ØªØµØ¯ÙŠØ± Ø¹Ù…Ù„Ø§Ø¡ | Leads | `POST /api/leads/export` | `leads:export` | `EXPORT_STARTED` | `EXPORT` |
| 19 | Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¹Ù…Ù„Ø§Ø¡ | Leads | `POST /api/leads/import` | `leads:import` | `IMPORT_STARTED` | `IMPORT` |
| 20 | Ø­Ø°Ù Ø¬Ù…Ø§Ø¹ÙŠ | Leads | `DELETE /api/leads/bulk` | `leads:delete` | `BULK_DELETE_STARTED` | `BULK_DELETE` |

### List Actions

| # | UI Action | Screen | API Endpoint | Permission | Audit Event | JobType |
|---|-----------|--------|--------------|------------|-------------|---------|
| 21 | Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© | Lists | `POST /api/lists` | `lists:create` | `LIST_CREATED` | - |
| 22 | ØªØ¹Ø¯ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© | Lists | `PATCH /api/lists/:id` | `lists:update` | `LIST_UPDATED` | - |
| 23 | Ø­Ø°Ù Ù‚Ø§Ø¦Ù…Ø© | Lists | `DELETE /api/lists/:id` | `lists:delete` | `LIST_DELETED` | - |
| 24 | Ø¥Ø¶Ø§ÙØ© Ù„Ù‚Ø§Ø¦Ù…Ø© | Lead Detail | `POST /api/lists/:id/leads` | `lists:update` | `LEADS_ADDED_TO_LIST` | - |
| 25 | Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© | Lead Detail | `DELETE /api/lists/:id/leads` | `lists:update` | `LEADS_REMOVED_FROM_LIST` | - |

### WhatsApp Actions

| # | UI Action | Screen | API Endpoint | Permission | Audit Event | JobType |
|---|-----------|--------|--------------|------------|-------------|---------|
| 26 | Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© | Lead Detail | `POST /api/whatsapp/send` | `whatsapp:send` | `WHATSAPP_SENT` | `WHATSAPP_SEND` |
| 27 | Ø¥Ø±Ø³Ø§Ù„ Ø¬Ù…Ø§Ø¹ÙŠ | Leads | `POST /api/whatsapp/bulk` | `whatsapp:bulk_send` | `WHATSAPP_BULK_STARTED` | `WHATSAPP_BULK` |
| 28 | Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨ | Templates | `POST /api/whatsapp/templates` | `whatsapp:templates` | `TEMPLATE_CREATED` | - |
| 29 | ØªØ¹Ø¯ÙŠÙ„ Ù‚Ø§Ù„Ø¨ | Templates | `PATCH /api/whatsapp/templates/:id` | `whatsapp:templates` | `TEMPLATE_UPDATED` | - |
| 30 | Ø­Ø°Ù Ù‚Ø§Ù„Ø¨ | Templates | `DELETE /api/whatsapp/templates/:id` | `whatsapp:templates` | `TEMPLATE_DELETED` | - |

### Report Actions

| # | UI Action | Screen | API Endpoint | Permission | Audit Event | JobType |
|---|-----------|--------|--------------|------------|-------------|---------|
| 31 | ØªÙˆÙ„ÙŠØ¯ ØªÙ‚Ø±ÙŠØ± | Lead Detail | `POST /api/leads/:id/report` | `leads:read` | `REPORT_STARTED` | `REPORT_GENERATE` |
| 32 | ØªØµØ¯ÙŠØ± PDF | Lead Detail | `GET /api/leads/:id/report/pdf` | `leads:read` | `REPORT_EXPORTED` | - |

### Settings & Billing Actions

| # | UI Action | Screen | API Endpoint | Permission | Audit Event | JobType |
|---|-----------|--------|--------------|------------|-------------|---------|
| 33 | ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª | Settings | `PATCH /api/tenants/:id` | `org:settings` | `TENANT_UPDATED` | - |
| 34 | Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­ API | Security | `POST /api/api-keys` | `api_keys:manage` | `API_KEY_CREATED` | - |
| 35 | Ø­Ø°Ù Ù…ÙØªØ§Ø­ API | Security | `DELETE /api/api-keys/:id` | `api_keys:manage` | `API_KEY_DELETED` | - |
| 36 | Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… | Usage | `GET /api/billing/usage` | `usage:read` | - | - |
| 37 | ØªØ±Ù‚ÙŠØ© Ø§Ù„Ø¨Ø§Ù‚Ø© | Billing | `POST /api/billing/checkout` | `billing:manage` | `SUBSCRIPTION_UPGRADED` | - |
| 38 | Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ | Billing | `POST /api/billing/cancel` | `billing:manage` | `SUBSCRIPTION_CANCELLED` | - |

### Agent/Extension Actions

| # | UI Action | Screen | API Endpoint | Permission | Audit Event | JobType |
|---|-----------|--------|--------------|------------|-------------|---------|
| 39 | Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª | Extension | `GET /api/agent/config` | - | - | - |
| 40 | Heartbeat | Extension | `POST /api/agent/heartbeat` | - | - | - |
| 41 | ØªØ£ÙƒÙŠØ¯ Job | Extension | `POST /api/agent/jobs/:id/ack` | - | `JOB_ACKNOWLEDGED` | - |
| 42 | ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù… | Extension | `POST /api/agent/jobs/:id/progress` | - | - | - |
| 43 | Ø¥Ø±Ø³Ø§Ù„ Evidence | Extension | `POST /api/agent/jobs/:id/evidence` | - | `EVIDENCE_RECEIVED` | - |
| 44 | Ø¥Ø¨Ù„Ø§Øº Ø®Ø·Ø£ | Extension | `POST /api/agent/jobs/:id/error` | - | `JOB_ERROR` | - |
| 45 | Ø¥Ù†Ù‡Ø§Ø¡ Job | Extension | `POST /api/agent/jobs/:id/done` | - | `JOB_COMPLETED` | - |

---

## ðŸ“ˆ Coverage Summary

| Category | Count | Status |
|----------|:-----:|:------:|
| Total UI Actions | 45 | âœ… |
| API Endpoints | 45 | âœ… |
| Audit Events | 38 | âœ… |
| JobTypes | 9 | âœ… |
| Permissions | 22 | âœ… |

### Verification

```
âœ… ÙƒÙ„ Ø²Ø± ÙÙŠ UI Ù„Ù‡ endpoint ÙˆØ§Ø¶Ø­
âœ… ÙƒÙ„ endpoint Ù„Ù‡ permission Ù…Ø­Ø¯Ø¯ (Ø£Ùˆ public)
âœ… ÙƒÙ„ action Ø­Ø³Ø§Ø³ Ù„Ù‡ audit event
âœ… ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ø·ÙˆÙŠÙ„Ø© Ù„Ù‡Ø§ JobType
```

---

## ðŸ”§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…ÙÙ†Ø¬Ø²Ø©

### ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡ âœ…

1. [x] Ø¥Ø¹Ø§Ø¯Ø© ØªØ³Ù…ÙŠØ© `11-EXECUTIVE-SUMMARY.md` â†’ `17-EXECUTIVE-SUMMARY.md`
2. [x] Ø£Ø±Ø´ÙØ© `02-DATA-MODEL-V2.md` â†’ `DEPRECATED-02-DATA-MODEL-V2.md`
3. [x] Ø£Ø±Ø´ÙØ© `07-DEVELOPMENT-ROADMAP-V2.md` â†’ `DEPRECATED-07-DEVELOPMENT-ROADMAP-V2.md`
4. [x] ØªØ­Ø¯ÙŠØ« README Ù„ÙŠØ¹ÙƒØ³ Ø§Ù„ØªØ±Ù‚ÙŠÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯
5. [x] Ø¥Ø¶Ø§ÙØ© MV3 Lifecycle + Keep-Alive + State Persistence ÙÙŠ `11-EXTENSION_RUNNER_SPEC.md`
6. [x] Ø¥Ø¶Ø§ÙØ© Unified Failure Modes ÙÙŠ `11-EXTENSION_RUNNER_SPEC.md`
7. [x] Ø¥Ø¶Ø§ÙØ© Concurrency Policy + Backoff + Pause/Resume ÙÙŠ `11-EXTENSION_RUNNER_SPEC.md`
8. [x] Ø¥Ø¶Ø§ÙØ© Execution Window Strategy ÙÙŠ `11-EXTENSION_RUNNER_SPEC.md`
9. [x] Ø¥Ø¶Ø§ÙØ© Agent/Runner API endpoints ÙÙŠ `openapi.yaml`
10. [x] Ø¥Ø¶Ø§ÙØ© EvidenceItem schema ÙÙŠ `openapi.yaml`
11. [x] ØªÙˆØ³ÙŠØ¹ RLS policies Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙÙŠ `09-SAAS_MULTITENANCY.md`
12. [x] Ø¥Ø¶Ø§ÙØ© NestJS Middleware for RLS ÙÙŠ `09-SAAS_MULTITENANCY.md`

### Ù‚Ø¨Ù„ Sprint 1 (Ù…ØªØ¨Ù‚ÙŠ)

1. [ ] Ø§Ø®ØªØ¨Ø§Ø± OpenAPI spec Ù…Ø¹ Swagger UI
2. [ ] Ù…Ø±Ø§Ø¬Ø¹Ø© Legal Ù„Ù€ PII redaction rules

---

## âœ… Verification Commands

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØ³Ø§Ù‚ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª
grep -r "Ø§Ù„Ø¥ØµØ¯Ø§Ø±:" docs/*.md | grep -v "2.1"

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…ÙƒØ³ÙˆØ±Ø©
grep -oh "\[.*\](\.\/.*\.md)" docs/README.md | while read link; do
  file=$(echo $link | sed 's/.*(\.\//docs\//' | sed 's/).*//')
  [ ! -f "$file" ] && echo "Broken: $link"
done

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØºØ·ÙŠØ© Audit
grep -c "Audit:" docs/03-SCREENS-ANALYSIS.md

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØºØ·ÙŠØ© API
grep -c "endpoint\|Endpoint" docs/06-API-REQUIREMENTS.md
```

---

> **Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** ÙŠÙ†Ø§ÙŠØ± 2026 (v2.1)
